<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>2019-04-19-函数式编程 | </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="2019-04-19-函数式编程">
<meta property="og:type" content="article">
<meta property="og:title" content="2019-04-19-函数式编程">
<meta property="og:url" content="http://ultrapre.github.io/2019/04/19/2019-04-19-函数式编程/index.html">
<meta property="og:site_name">
<meta property="og:description" content="2019-04-19-函数式编程">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-08-15T13:37:34.882Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2019-04-19-函数式编程">
<meta name="twitter:description" content="2019-04-19-函数式编程">
  
    <link rel="alternate" href="/atom.xml" title type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo"></a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://ultrapre.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-2019-04-19-函数式编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/19/2019-04-19-函数式编程/" class="article-date">
  <time datetime="2019-04-19T07:17:43.000Z" itemprop="datePublished">2019-04-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      2019-04-19-函数式编程
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2019-04-19-函数式编程</p>
<a id="more"></a>
<p>#实验提示<br>在’-‘提示符下直接输入SML语句,以分号结束;<br>表达式计算的结果缺省赋值给变量”it”;<br>文件的加载: use <filename>;<br>        如 use “d:\sml\test.sml”;<br>程序正确性检查：val <return value> = <function> <argument value><br>        如：val 42 = eval [2,4]<br>示例：</argument></function></return></filename></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3+ 4;</span><br><span class="line">3 + 2.0;</span><br><span class="line">it + 6;</span><br><span class="line">val it = “hello”;</span><br><span class="line">it + “ world”;</span><br><span class="line">it + 5;</span><br><span class="line">val a = 5;</span><br><span class="line">a = 6;</span><br><span class="line">a + 8; </span><br><span class="line">val twice = (fn x =&gt; 2 * x);</span><br><span class="line">twice a;</span><br><span class="line">let x = 1 in x end;</span><br><span class="line">foo;</span><br><span class="line">[1, “foo”];</span><br></pre></td></tr></table></figure>

<p>#实验实例1<br>2.完成函数mult的编写，实现求解整数列表中所有整数的乘积。<br><code>fun mult [ ] =     1
    | mult (x ::L) = x*mult (L);</code><br>3.完成如下函数Mult: int list list -&gt; int的编写,该函数调用mult 实现int list list中所有整数乘积的求解。<br><code>fun Mult [ ] =     1
    | Mult (r :: R) =     mult(r)*Mult(R);</code><br>4.利用mult’定义函数Mult’ : int list list * int -&gt; int，使对任意整数列表的列表R和整数a，该函数用于计算a与列表R中所有整数的乘积。该函数框架如下所示，试完成代码的编写。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fun mult&apos; ([ ], a) = a</span><br><span class="line">	  | mult&apos; (x :: L, a) = mult&apos; (L, x * a);</span><br><span class="line"></span><br><span class="line">fun Mult&apos; ( [ ], a) = 	a</span><br><span class="line">    | Mult&apos; (r::R, a) = Mult(R)*mult&apos;(r,a);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p>编写递归函数square实现整数平方的计算，即square n = n * n。<br> 要求：程序中可调用函数double，但不能使用整数乘法（*）运算。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fun double (0 : int) : int = 0</span><br><span class="line">    | double n = 2 + double (n - 1);</span><br><span class="line"></span><br><span class="line">fun square(0:int):int =0</span><br><span class="line">| square(x) = square(x-1)+double(x-1)+1;</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义函数divisibleByThree: int -&gt; bool，以使当n为3的倍数时，divisibleByThree n为true，否则为false。注意：程序中不能使用取余函数’mod’。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fun divisibleByThree(x:int):bool =</span><br><span class="line">if x=0 then true else </span><br><span class="line">if x=1 then false else </span><br><span class="line">if x=2 then false else </span><br><span class="line">divisibleByThree(x-3)</span><br><span class="line">;</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数evenP为偶数判断函数，即当且仅当该数为偶数时返回true。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun oddP (0 : int) : bool = false</span><br><span class="line">  	    | oddP 1 = true</span><br><span class="line">  	    | oddP n = oddP (n - 2);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>#实验实例2</p>
<p>1.编写函数reverse和reverse’，要求：<br>函数类型均为：int list-&gt;int list，功能均为实现输出表参数的逆序输出；<br>函数reverse不能借助任何帮助函数；函数reverse’可以借助帮助函数，时间复杂度为O(n)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(* 1</span><br><span class="line">*function: reverse string like [a,b,c] to [c,b,a]</span><br><span class="line">*require:  true</span><br><span class="line">*)</span><br><span class="line">fun reverse [] = []</span><br><span class="line">	|reverse (a::L) =  (reverse L) @ [a];</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(* 2</span><br><span class="line">*function: reverse string like [a,b,c] to [c,b,a]  by using helper</span><br><span class="line">*require:  true</span><br><span class="line">*)	</span><br><span class="line">fun reverse&apos; (L : int list) : int list =</span><br><span class="line">    let</span><br><span class="line">      fun reversehelp&apos; (L : int list, A : int list) : int list =</span><br><span class="line">        case L of</span><br><span class="line">             [ ] =&gt; A</span><br><span class="line">           | x::R =&gt; reversehelp&apos; (R, x :: A)</span><br><span class="line">    in</span><br><span class="line">      reversehelp&apos; (L, [ ])</span><br><span class="line">    end</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>编写函数 interleave: int list * int list -&gt; int list，该函数能实现两个int list数据的合并，且两个list中的元素在结果中交替出现，直至其中一个int list数据结束，而另一个int list数据中的剩余元素则直接附加至结果数据的尾部。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">(* 3</span><br><span class="line">*function: cat string by seq</span><br><span class="line">*require:  true *</span><br><span class="line">*)	</span><br><span class="line">fun interleave(A : int list,B : int list):int list =</span><br><span class="line">    case (A,B) of</span><br><span class="line">    ([],_) =&gt; B</span><br><span class="line">    |(_,[])=&gt; A</span><br><span class="line">    |(x::X,y::Y)=&gt;x::y::interleave(X,Y)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>3.编写函数listToTree: int list -&gt; tree，将一个表转换成一棵平衡树。<br>提示：可调用split函数，split函数定义如下：<br>如果L非空，则存在L1, x, L2，满足：<br>    split L = (L1, x, L2)     且<br>    L = L1 @ x :: L2         且<br>    length(L1)和length(L2)差值小于1。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	</span><br><span class="line">(*4 </span><br><span class="line">*function: split strinf by middle</span><br><span class="line">*require:  true *</span><br><span class="line">*)   </span><br><span class="line">fun split [] : (int list * int * int list) = raise Fail &quot;cannot split empty list&quot;</span><br><span class="line">    | split(l: int list) =</span><br><span class="line">      let</span><br><span class="line">        val mid = (length l) div 2</span><br><span class="line">        val L = (List.take (l,mid))</span><br><span class="line">        val x :: R = (List.drop (l,mid))</span><br><span class="line">      in</span><br><span class="line">        (L, x, R)</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(*5</span><br><span class="line">*function: seq list to balace tree</span><br><span class="line">*require:  true *</span><br><span class="line">*)   </span><br><span class="line">fun listToTree ([]:int list):int tree = Empty</span><br><span class="line">| listToTree (L)=</span><br><span class="line">let</span><br><span class="line">      val (L, x, R) = split (L)</span><br><span class="line">    in</span><br><span class="line">      Node (listToTree(L), x , listToTree(R))</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>4.编写函数revT: tree -&gt; tree，对树进行反转，使trav(revT t) = reverse(trav t)。（trav为树的中序遍历函数）。假设输入参数为一棵平衡二叉树，验证程序的正确性，并分析该函数的执行性能（work和span）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(*val Empty = listToTree nil	*)</span><br><span class="line">	</span><br><span class="line">(*5 </span><br><span class="line">*function: reverser tree seq-ly</span><br><span class="line">*require:  true *</span><br><span class="line">*)   	</span><br><span class="line">fun revT (Empty : int tree):int tree = Empty</span><br><span class="line">  | revT (Node(l,x,r)) = Node (revT (r), x , revT (l))</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>编写函数binarySearch: tree * int -&gt; bool。当输出参数1为有序树时，如果树中包含值为参数2的节点，则返回true；否则返回false。要求：程序中请使用函数Int.compare（系统提供），不要使用&lt;, =, &gt;。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">datatype &apos;a tree = Empty</span><br><span class="line">    | Node of &apos;a tree * &apos;a * &apos;a tree</span><br><span class="line"></span><br><span class="line">(*6 </span><br><span class="line">*function: search tree by seq return bool</span><br><span class="line">*require:  true *</span><br><span class="line">*)   	</span><br><span class="line">fun binarySearch(Empty:int  tree,i: int): bool = false </span><br><span class="line">|binarySearch(Node(l,x,r), i) =</span><br><span class="line">case Int.compare(x,i) of</span><br><span class="line">	GREATER =&gt; binarySearch(l,i)      </span><br><span class="line">    | EQUAL =&gt; true </span><br><span class="line">    | LESS =&gt; binarySearch(r,i)</span><br></pre></td></tr></table></figure>

<p>#实验实例3<br>1.2<br>实验内容：<br>编写函数thenAddOne，要求：<br>函数类型为: ((int -&gt;int) * int) -&gt; int；<br>功能为将一个整数通过函数变换(如翻倍、求平方或求阶乘)后再加1。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(*平方*)</span><br><span class="line">fun f1(x:int):int = x*x</span><br><span class="line"></span><br><span class="line">(*平方+1*)</span><br><span class="line">fun thenAddOne ((f1:int -&gt; int), (x:int)) : int =</span><br><span class="line">    f1 x + 1</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>编写函数mapList，要求：<br>函数类型为: ((‘a -&gt; ‘b) * ‘a list) -&gt; ‘b list；<br>功能为实现整数集的数学变换(如翻倍、求平方或求阶乘)。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(**)</span><br><span class="line">fun f2(x:int):bool = </span><br><span class="line">if x=0</span><br><span class="line">then false</span><br><span class="line">else true</span><br><span class="line"></span><br><span class="line">(*</span><br><span class="line">mapList(f2,[1,2,0,3]);</span><br><span class="line">*)</span><br><span class="line"></span><br><span class="line">(*实现整数集的f数学变换*)	</span><br><span class="line">(*最终： ((‘a -&gt; ‘b) * ‘a list) -&gt; ‘b list</span><br><span class="line">f x1::</span><br><span class="line">		(fx2::</span><br><span class="line">				(...</span><br><span class="line">					::mapList)))</span><br><span class="line">*)</span><br><span class="line">fun mapList (f: &apos;a -&gt; &apos;b, [] : &apos;a list)  : &apos;b list = []</span><br><span class="line">  | mapList (f, x::L) = (f x)::(mapList (f, L))</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>3.编写函数mapList’，要求：<br>   ① 函数类型为: (‘a -&gt; ‘b) -&gt; (‘a list -&gt; ‘b list)；<br>   ② 功能为实现整数集的数学变换(如翻倍、求平方或求阶乘)。<br>   ③ 比较函数mapList’和mapList，分析、体会它们有什么不同。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">(*</span><br><span class="line">(‘a -&gt; ‘b) -&gt; (‘a list -&gt; ‘b list)；</span><br><span class="line">类上，不过类型变化</span><br><span class="line">*)</span><br><span class="line">fun mapList&apos; (f : &apos;a -&gt; &apos;b) ([] : &apos;a list) : &apos;b list = []</span><br><span class="line">|mapList&apos;(f)(x::L)=(f x)::(mapList&apos; f L);</span><br></pre></td></tr></table></figure>

<p>4.编写函数findOdd，要求：</p>
<p>   ① 函数类型为: int list -&gt; int option；<br>   ② 功能为：如果x为L中的第一个奇数，则返回SOME x；否则返回NONE</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(**)	  </span><br><span class="line">fun findOdd([] : int list): int option = NONE</span><br><span class="line">  | findOdd(x::L) = if (x mod 2)=1 then SOME x else findOdd L</span><br></pre></td></tr></table></figure>

<p>5.编写函数subsetSumOption: int list * int -&gt; int list option，要求：<br>对函数subsetSumOption(L, s)：如果L中存在子集L’，满足其中所有元素之和为s，则结果为SOME L’；否则结果为NONE。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">			  </span><br><span class="line">(*参考找零问题*</span><br><span class="line"></span><br><span class="line">*)					  </span><br><span class="line">fun subsetSumOption (l : int list, 0 : int) : int list option = SOME []</span><br><span class="line">  | subsetSumOption ([], n) = NONE</span><br><span class="line">  | subsetSumOption (x::L, sum) =</span><br><span class="line">  if subsetSumOption(L, sum-x) =NONE </span><br><span class="line">  then subsetSumOption(L, sum)  (*不符合，去掉x*)</span><br><span class="line">  else</span><br><span class="line">  SOME (x::(valOf(subsetSumOption(L, sum-x))))</span><br><span class="line">  (*符合，SOME加上x*)</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><p>编写函数：<br> exists: (‘a -&gt; bool) -&gt; ‘a list -&gt; bool<br> forall: (‘a -&gt; bool) -&gt; ‘a list -&gt; bool<br>对函数p: t -&gt; bool, 整数集L: t list,<br> 有：exist p L =&gt;* true if there is an x in L such that p x=true;</p>
<pre><code>exits p L =&gt;* false otherwise.
forall p L =&gt;* true if p x = true for every item x in L;
forall p L =&gt;* false otherwise.</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(*</span><br><span class="line">p传入函数</span><br><span class="line">fun foldr F z [ ] = z</span><br><span class="line">    | foldr F z (x::L) = F(x, foldr F z L)=F(x, result)</span><br><span class="line">	</span><br><span class="line">递归，结果或orelse</span><br><span class="line">p a orelse</span><br><span class="line">		p b orelse</span><br><span class="line">				foldr p true L</span><br><span class="line">*)	</span><br><span class="line">fun exists (p : &apos;a -&gt; bool) (l : &apos;a list) : bool =</span><br><span class="line">    foldr (fn (a,b) =&gt; p a orelse b) false l</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">(*</span><br><span class="line">类上，结果与，andalso</span><br><span class="line">若foldr (Func) result object</span><br><span class="line">*)</span><br><span class="line">fun forall (p : &apos;a -&gt; bool) (l : &apos;a list) : bool =</span><br><span class="line">    foldr (fn (a,b) =&gt; p a andalso b) true l</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写函数：<br> treeFilter: (‘a -&gt; bool) -&gt; ‘a tree -&gt; ‘a option tree<br> 将树中满足条件P（ ‘a -&gt; bool ）的节点封装成option类型保留，否则替换成NONE。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">datatype &apos;a tree = Empty</span><br><span class="line">    | Node of &apos;a tree * &apos;a * &apos;a tree</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(*</span><br><span class="line">从根节点开始，将x替换成y</span><br><span class="line">*)	</span><br><span class="line">fun treeFilter (p : &apos;a -&gt; bool ) (Empty) : &apos;a option tree = Empty</span><br><span class="line">  | treeFilter (p) (Node (l, x, r)) =</span><br><span class="line">    let</span><br><span class="line">      val y = if p x then SOME x else NONE</span><br><span class="line">    in</span><br><span class="line">      Node (treeFilter p l, y, treeFilter p r)</span><br><span class="line">    end</span><br></pre></td></tr></table></figure>

</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://ultrapre.github.io/2019/04/19/2019-04-19-函数式编程/" data-id="ck0abog6m0085fsueig7iadty" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/04/20/2019-04-20-修那之旅-修拉之旅-Premiere-广播剧修复/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          2019-04-20-修那之旅-修拉之旅-Premiere-广播剧修复
        
      </div>
    </a>
  
  
    <a href="/2019/04/14/2019-04-14-娜乌西卡的游戏三部曲（一）/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">2019-04-14-娜乌西卡的游戏三部曲（一）</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Galgame/">Galgame</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/宫崎骏/">宫崎骏</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/手机/">手机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据/">数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/系统/">系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件/">软件</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Galgame/" style="font-size: 20px;">Galgame</a> <a href="/tags/宫崎骏/" style="font-size: 18px;">宫崎骏</a> <a href="/tags/手机/" style="font-size: 10px;">手机</a> <a href="/tags/数据/" style="font-size: 12px;">数据</a> <a href="/tags/系统/" style="font-size: 16px;">系统</a> <a href="/tags/软件/" style="font-size: 14px;">软件</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/08/2019-09-08-易重复的视频制作-批量制成文字图片/">2019-09-08-易重复的视频制作-批量制成文字图片</a>
          </li>
        
          <li>
            <a href="/2019/09/07/2019-09-07-娜乌西卡漫画解惑/">2019-09-07-娜乌西卡漫画解惑</a>
          </li>
        
          <li>
            <a href="/2019/09/06/2019-09-06-【知乎】-二战德国东线事记/">2019-09-06-【知乎】-二战德国东线事记</a>
          </li>
        
          <li>
            <a href="/2019/09/05/2019-09-05-不规则裁切图片-斜切割-边线切割-漫画切割构想/">2019-09-05-不规则裁切图片-斜切割-边线切割-漫画切割构想</a>
          </li>
        
          <li>
            <a href="/2019/09/05/2019-09-05-从沙漠之民动态漫画制作讲起-Pr-Flash-音效素材/">2019-09-05-从沙漠之民动态漫画制作讲起-Pr-Flash-音效素材</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Akari Sama<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>