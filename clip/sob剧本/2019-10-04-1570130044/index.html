
  <!DOCTYPE html>
  <html id="" class="">
    <!-- OriginalSrc: http://wiki.wareya.moe/Lucifen%20Library -->
    <head>
      <meta http-equiv="Content-Type" content="text/html"; charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />

      <title>Lucifen Library - VN Stats</title>
      

<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="assets/1570130044-dabc625feeababbca1d086f34468d5e6.css" referrerpolicy="no-referrer">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="assets/1570130044-23d7a113fa9657d99d716703adda63c3.css" referrerpolicy="no-referrer">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="assets/1570130044-d3715129c2ef55836eeb56a9170bdbf5.css" referrerpolicy="no-referrer">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="assets/1570130044-ef6711bc2df94edf0d465fdca4aa45fd.css" referrerpolicy="no-referrer">
<link type="text/css" rel="stylesheet" charset="UTF-8" href="assets/1570130044-bf6e8ede6c9939560d4ea3bd7e88d251.css" referrerpolicy="no-referrer">


<style class="darkreader darkreader--fallback" media="screen"></style>
<style class="darkreader darkreader--text" media="screen"></style>
<style class="darkreader darkreader--invert" media="screen"></style>
<style class="darkreader darkreader--inline" media="screen">[data-darkreader-inline-bgcolor] {
  background-color: var(--darkreader-inline-bgcolor) !important;
}
[data-darkreader-inline-bgimage] {
  background-image: var(--darkreader-inline-bgimage) !important;
}
[data-darkreader-inline-border] {
  border-color: var(--darkreader-inline-border) !important;
}
[data-darkreader-inline-border-bottom] {
  border-bottom-color: var(--darkreader-inline-border-bottom) !important;
}
[data-darkreader-inline-border-left] {
  border-left-color: var(--darkreader-inline-border-left) !important;
}
[data-darkreader-inline-border-right] {
  border-right-color: var(--darkreader-inline-border-right) !important;
}
[data-darkreader-inline-border-top] {
  border-top-color: var(--darkreader-inline-border-top) !important;
}
[data-darkreader-inline-boxshadow] {
  box-shadow: var(--darkreader-inline-boxshadow) !important;
}
[data-darkreader-inline-color] {
  color: var(--darkreader-inline-color) !important;
}
[data-darkreader-inline-fill] {
  fill: var(--darkreader-inline-fill) !important;
}
[data-darkreader-inline-stroke] {
  stroke: var(--darkreader-inline-stroke) !important;
}
[data-darkreader-inline-outline] {
  outline-color: var(--darkreader-inline-outline) !important;
}</style>
<style class="darkreader darkreader--user-agent" media="screen">html {
    background-color: #191a1b !important;
}
html, body, input, textarea, select, button {
    background-color: #191a1b;
}
html, body, input, textarea, select, button {
    border-color: #5a5956;
    color: #f0ebe2;
}
a {
    color: #4791e7;
}
table {
    border-color: #4f4e4c;
}
::placeholder {
    color: #bfb9ac;
}
::selection {
    background-color: #125cb4;
    color: #fffffd;
}
::-moz-selection {
    background-color: #125cb4;
    color: #fffffd;
}
input:-webkit-autofill,
textarea:-webkit-autofill,
select:-webkit-autofill {
    background-color: #565a0f !important;
    color: #f0ebe2 !important;
}
::-webkit-scrollbar {
    background-color: #1d1f1f;
    color: #cbc5b9;
}
::-webkit-scrollbar-thumb {
    background-color: #2c2d2d;
}
::-webkit-scrollbar-thumb:hover {
    background-color: #343636;
}
::-webkit-scrollbar-thumb:active {
    background-color: #404142;
}
::-webkit-scrollbar-corner {
    background-color: #191a1b;
}
* {
    scrollbar-color: #2c2d2d #1d1f1f;
}</style>
<style class="darkreader darkreader--override" media="screen">.jfk-bubble {
    background-color: #000000 !important;
}
.vimvixen-hint {
    background-color: #765500 !important;
    border-color: #d5b22e !important;
    color: #f9edcc !important;
}</style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style type="text/css">@keyframes fadeInOpacity{0%{opacity:0}to{opacity:1}}:hover>*>.fbvd--wrapper{animation-name:fadeInOpacity;animation-duration:.3s;opacity:1}.fbvd--wrapper{position:absolute;top:10px;left:10px;opacity:0;text-align:center;margin:0;z-index:5}.fbvd--wrapper a{background: url("") no-repeat 3px 4.55px; background-color: #fff; display:inline-block;font:700 14px Helvetica,Arial,sans-serif;color:#4b4f56;text-decoration:none;vertical-align:middle;padding:0px 8px 0px;margin-right:8px;border-radius:2px; line-height: 22px; padding-left:19px; border: 1px solid #e7e7e7; background-size: 13px}.fbvd--wrapper a:last-child{margin-right:0}.fbvd--wrapper a:hover{text-decoration:none}.fbvd--wrapper a:focus{box-shadow:0 0 1px 2px rgba(88,144,255,.75),0 1px 1px rgba(0,0,0,.15);outline:none}.fbvd--wrapper b{font-size:13px;position:relative;top:1px;color:#3b5998;font-weight:400}</style>
<style class="darkreader darkreader--sync" media="screen"></style>
<style class="darkreader darkreader--cors" media="screen">.goog-te-banner-frame{left:0px;top:0px;height:39px;width:100%;z-index:10000001;position:fixed;border:none;border-bottom:1px solid #6b90da;margin:0;-moz-box-shadow:0 0 8px 1px #999999;-webkit-box-shadow:0 0 8px 1px #999999;box-shadow:0 0 8px 1px #999999;_position:absolute}.goog-te-menu-frame{z-index:10000002;position:fixed;border:none;-moz-box-shadow:0 3px 8px 2px #999999;-webkit-box-shadow:0 3px 8px 2px #999999;box-shadow:0 3px 8px 2px #999999;_position:absolute}.goog-te-ftab-frame{z-index:10000000;border:none;margin:0}.goog-te-gadget{font-family:arial;font-size:11px;color:#666;white-space:nowrap}.goog-te-gadget img{vertical-align:middle;border:none}.goog-te-gadget-simple{background-color:#fff;border-left:1px solid #d5d5d5;border-top:1px solid #9b9b9b;border-bottom:1px solid #e8e8e8;border-right:1px solid #d5d5d5;font-size:10pt;display:inline-block;padding-top:1px;padding-bottom:2px;cursor:pointer;zoom:1;*display:inline}.goog-te-gadget-icon{margin-left:2px;margin-right:2px;width:19px;height:19px;border:none;vertical-align:middle}.goog-te-combo{margin-left:4px;margin-right:4px;vertical-align:baseline;*vertical-align:middle}.goog-te-gadget .goog-te-combo{margin:4px 0}.goog-logo-link,.goog-logo-link:link,.goog-logo-link:visited,.goog-logo-link:hover,.goog-logo-link:active{font-size:12px;font-weight:bold;color:#444;text-decoration:none}.goog-te-banner .goog-logo-link,.goog-close-link{display:block;margin:0px 10px}.goog-te-banner .goog-logo-link{padding-top:2px;padding-left:4px}.goog-te-combo,.goog-te-banner *,.goog-te-ftab *,.goog-te-menu *,.goog-te-menu2 *,.goog-te-balloon *{font-family:arial;font-size:10pt}.goog-te-banner{margin:0;background-color:#e4effb;overflow:hidden}.goog-te-banner img{border:none}.goog-te-banner-content{color:#000}.goog-te-banner-content img{vertical-align:middle}.goog-te-banner-info{color:#666;vertical-align:top;margin-top:0px;font-size:7pt}.goog-te-banner-margin{width:8px}.goog-te-button{border-color:#e7e7e7;border-style:none solid solid none;border-width:0 1px 1px 0}.goog-te-button div{border-color:#cccccc #999999 #999999 #cccccc;border-right:1px solid #999999;border-style:solid;border-width:1px;height:20px}.goog-te-button button{background:transparent;border:none;cursor:pointer;height:20px;overflow:hidden;margin:0;vertical-align:top;white-space:nowrap}.goog-te-button button:active{background:none repeat scroll 0 0 #cccccc}.goog-te-ftab{margin:0px;background-color:#fff;white-space:nowrap}.goog-te-ftab-link{text-decoration:none;font-weight:bold;font-size:10pt;border:1px outset #888;padding:6px 10px;white-space:nowrap;position:absolute;left:0px;top:0px}.goog-te-ftab-link img{margin-left:2px;margin-right:2px;width:19px;height:19px;border:none;vertical-align:middle}.goog-te-ftab-link span{text-decoration:underline;margin-left:2px;margin-right:2px;vertical-align:middle}.goog-float-top .goog-te-ftab-link{padding:2px 2px;border-top-width:0px}.goog-float-bottom .goog-te-ftab-link{padding:2px 2px;border-bottom-width:0px}.goog-te-menu-value{text-decoration:none;color:#0000cc;white-space:nowrap;margin-left:4px;margin-right:4px}.goog-te-menu-value span{text-decoration:underline}.goog-te-menu-value img{margin-left:2px;margin-right:2px}.goog-te-gadget-simple .goog-te-menu-value{color:#000}.goog-te-gadget-simple .goog-te-menu-value span{text-decoration:none}.goog-te-menu{background-color:#ffffff;text-decoration:none;border:2px solid #c3d9ff;overflow-y:scroll;overflow-x:hidden;position:absolute;left:0;top:0}.goog-te-menu-item{padding:3px;text-decoration:none}.goog-te-menu-item,.goog-te-menu-item:link{color:#0000cc;background:#ffffff}.goog-te-menu-item:visited{color:#551a8b}.goog-te-menu-item:hover{background:#c3d9ff}.goog-te-menu-item:active{color:#0000cc}.goog-te-menu2{background-color:#ffffff;text-decoration:none;border:1px solid #6b90da;overflow:hidden;padding:4px}.goog-te-menu2-colpad{width:16px}.goog-te-menu2-separator{margin:6px 0;height:1px;background-color:#aaa;overflow:hidden}.goog-te-menu2-item div,.goog-te-menu2-item-selected div{padding:4px}.goog-te-menu2-item .indicator{display:none}.goog-te-menu2-item-selected .indicator{display:auto}.goog-te-menu2-item-selected .text{padding-left:4px;padding-right:4px}.goog-te-menu2-item,.goog-te-menu2-item-selected{text-decoration:none}.goog-te-menu2-item div,.goog-te-menu2-item:link div,.goog-te-menu2-item:visited div,.goog-te-menu2-item:active div{color:#0000cc;background:#ffffff}.goog-te-menu2-item:hover div{color:#ffffff;background:#3366cc}.goog-te-menu2-item-selected div,.goog-te-menu2-item-selected:link div,.goog-te-menu2-item-selected:visited div,.goog-te-menu2-item-selected:hover div,.goog-te-menu2-item-selected:active div{color:#000;font-weight:bold}.goog-te-balloon{background-color:#ffffff;overflow:hidden;padding:8px;border:none;-moz-border-radius:10px;border-radius:10px}.goog-te-balloon-frame{background-color:#ffffff;border:1px solid #6b90da;-moz-box-shadow:0 3px 8px 2px #999999;-webkit-box-shadow:0 3px 8px 2px #999999;box-shadow:0 3px 8px 2px #999999;-moz-border-radius:8px;border-radius:8px}.goog-te-balloon img{border:none}.goog-te-balloon-text{margin-top:6px}.goog-te-balloon-zippy{margin-top:6px;white-space:nowrap}.goog-te-balloon-zippy *{vertical-align:middle}.goog-te-balloon-zippy .minus{background-image:url("http://www.google.com/images/zippy_minus_sm.gif")}.goog-te-balloon-zippy .plus{background-image:url("http://www.google.com/images/zippy_plus_sm.gif")}.goog-te-balloon-zippy span{color:#00c;text-decoration:underline;cursor:pointer;margin:0 4px}.goog-te-balloon-form{margin:6px 0 0 0}.goog-te-balloon-form form{margin:0}.goog-te-balloon-form form textarea{margin-bottom:4px;width:100%}.goog-te-balloon-footer{margin:6px 0 4px 0}.goog-te-spinner-pos{z-index:1000;position:fixed;transition-delay:0.6s;left:-1000px;top:-1000px}.goog-te-spinner-animation{background:#ccc;display:flex;align-items:center;justify-content:center;width:104px;height:104px;border-radius:50px;background:#fff url("") 50% 50% no-repeat;transition:all 0.6s ease-in-out;transform:scale(0.4);opacity:0}.goog-te-spinner-animation-show{transform:scale(0.5);opacity:1}.goog-te-spinner{margin:2px 0 0 2px;animation:goog-te-spinner-rotator 1.4s linear infinite}@keyframes goog-te-spinner-rotator{0%{transform:rotate(0deg)}100%{transform:rotate(270deg)}}.goog-te-spinner-path{stroke-dasharray:187;stroke-dashoffset:0;stroke:#4285f4;transform-origin:center;animation:goog-te-spinner-dash 1.4s ease-in-out infinite}@keyframes goog-te-spinner-dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}#goog-gt-tt html,#goog-gt-tt body,#goog-gt-tt div,#goog-gt-tt span,#goog-gt-tt iframe,#goog-gt-tt h1,#goog-gt-tt h2,#goog-gt-tt h3,#goog-gt-tt h4,#goog-gt-tt h5,#goog-gt-tt h6,#goog-gt-tt p,#goog-gt-tt a,#goog-gt-tt img,#goog-gt-tt ol,#goog-gt-tt ul,#goog-gt-tt li,#goog-gt-tt table,#goog-gt-tt form,#goog-gt-tt tbody,#goog-gt-tt tr,#goog-gt-tt td{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;text-align:left;line-height:normal}#goog-gt-tt ol,#goog-gt-tt ul{list-style:none}#goog-gt-tt table{border-collapse:collapse;border-spacing:0}#goog-gt-tt caption,#goog-gt-tt th,#goog-gt-tt td{text-align:left;font-weight:normal}#goog-gt-tt input::-moz-focus-inner{border:0}div#goog-gt-tt{padding:10px 14px}#goog-gt-tt{color:#222;background-color:#ffffff;border:1px solid #eee;box-shadow:0 4px 16px rgba(0,0,0,.2);-moz-box-shadow:0 4px 16px rgba(0,0,0,.2);-webkit-box-shadow:0 4px 16px rgba(0,0,0,.2);display:none;font-family:arial;font-size:10pt;width:420px;padding:12px;position:absolute;z-index:10000}#goog-gt-tt .original-text,.gt-hl-layer{clear:both;font-size:10pt;position:relative;text-align:justify;width:100%}#goog-gt-tt .title{color:#999;font-family:arial,sans-serif;margin:4px 0;text-align:left}#goog-gt-tt .close-button{display:none}#goog-gt-tt .logo{float:left;margin:0px}#goog-gt-tt .activity-links{display:inline-block}#goog-gt-tt .started-activity-container{display:none;width:100%}#goog-gt-tt .activity-root{margin-top:20px}#goog-gt-tt .left{float:left}#goog-gt-tt .right{float:right}#goog-gt-tt .bottom{min-height:15px;position:relative;height:1%}#goog-gt-tt .status-message{background:-moz-linear-gradient(top,#29910d 0%,#20af0e 100%);background:-webkit-linear-gradient(top,#29910d 0%,#20af0e 100%);background:-o-linear-gradient(top,#29910d 0%,#20af0e 100%);background:-ms-linear-gradient(top,#29910d 0%,#20af0e 100%);background:linear-gradient(top,#29910d 0%,#20af0e 100%);background:#29910d;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;box-shadow:inset 0px 2px 2px #1e6609;-moz-box-shadow:inset 0px 2px 2px #1e6609;-webkit-box-shadow:inset 0px 2px 2px #1e6609;color:white;font-size:9pt;font-weight:bolder;margin-top:12px;padding:6px;text-shadow:1px 1px 1px #1e6609}#goog-gt-tt .activity-link{color:#1155cc;cursor:pointer;font-family:arial;font-size:11px;margin-right:15px;text-decoration:none}#goog-gt-tt textarea{font-family:arial;resize:vertical;width:100%;margin-bottom:10px;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;border:1px solid #d9d9d9;border-top:1px solid silver;font-size:13px;height:auto;overflow-y:auto;padding:1px}#goog-gt-tt textarea:focus{-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);border:1px solid #4d90fe;outline:none}#goog-gt-tt .activity-cancel{margin-right:10px}#goog-gt-tt .translate-form{min-height:25px;vertical-align:middle;padding-top:8px}#goog-gt-tt .translate-form .activity-form{margin-bottom:5px;margin-bottom:0px}#goog-gt-tt .translate-form .activity-form input{display:inline-block;min-width:54px;*min-width:70px;border:1px solid #dcdcdc;border:1px solid rgba(0,0,0,0.1);text-align:center;color:#444;font-size:11px;font-weight:bold;height:27px;outline:0;padding:0 8px;vertical-align:middle;line-height:27px;margin:0 16px 0 0;box-shadow:0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:0 1px 2px rgba(0,0,0,.1);-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-transition:all 0.218s;-moz-transition:all 0.218s;-o-transition:all 0.218s;transition:all 0.218s;background-color:#f5f5f5;background-image:-webkit-gradient(linear,left top,left bottom,from(#f5f5f5),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-moz-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-ms-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:-o-linear-gradient(top,#f5f5f5,#f1f1f1);background-image:linear-gradient(top,#f5f5f5,#f1f1f1);-webkit-user-select:none;-moz-user-select:none;cursor:default}#goog-gt-tt .translate-form .activity-form input:hover{border:1px solid #c6c6c6;color:#222;-webkit-transition:all 0.0s;-moz-transition:all 0.0s;-o-transition:all 0.0s;transition:all 0.0s;background-color:#f8f8f8;background-image:-webkit-gradient(linear,left top,left bottom,from(#f8f8f8),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-moz-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-ms-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-o-linear-gradient(top,#f8f8f8,#f1f1f1);background-image:linear-gradient(top,#f8f8f8,#f1f1f1)}#goog-gt-tt .translate-form .activity-form input:active{border:1px solid #c6c6c6;color:#333;background-color:#f6f6f6;background-image:-webkit-gradient(linear,left top,left bottom,from(#f6f6f6),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-moz-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-ms-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:-o-linear-gradient(top,#f6f6f6,#f1f1f1);background-image:linear-gradient(top,#f6f6f6,#f1f1f1)}#goog-gt-tt .translate-form .activity-form input:focus #goog-gt-tt .translate-form .activity-form input.focus #goog-gt-tt .translate-form .activity-form input:active,#goog-gt-tt .translate-form .activity-form input:focus:active,#goog-gt-tt .translate-form .activity-form input:.focus:active{box-shadow:inset 0 0 0 1px rgba(255,255,255,0.5);-webkit-box-shadow:inset 0 0 0 1px rgba(255,255,255,0.5);-moz-box-shadow:inset 0 0 0 1px rgba(255,255,255,0.5)}#goog-gt-tt .translate-form .activity-form input:focus,#goog-gt-tt .translate-form .activity-form input.focus{outline:none;border:1px solid #4d90fe;z-index:4!important}#goog-gt-tt .translate-form .activity-form input.selected{background-color:#eeeeee;background-image:-webkit-gradient(linear,left top,left bottom,from(#eeeeee),to(#e0e0e0));background-image:-webkit-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-moz-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-ms-linear-gradient(top,#eeeeee,#e0e0e0);background-image:-o-linear-gradient(top,#eeeeee,#e0e0e0);background-image:linear-gradient(top,#eeeeee,#e0e0e0);-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);border:1px solid #ccc;color:#333}#goog-gt-tt .translate-form .activity-form input.activity-submit{color:white;border-color:#3079ed;background-color:#4d90fe;background-image:-webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#4787ed));background-image:-webkit-linear-gradient(top,#4d90fe,#4787ed);background-image:-moz-linear-gradient(top,#4d90fe,#4787ed);background-image:-ms-linear-gradient(top,#4d90fe,#4787ed);background-image:-o-linear-gradient(top,#4d90fe,#4787ed);background-image:linear-gradient(top,#4d90fe,#4787ed)}#goog-gt-tt .translate-form .activity-form input.activity-submit:hover #goog-gt-tt .translate-form .activity-form input.activity-submit:focus,#goog-gt-tt .translate-form .activity-form input.activity-submit.focus #goog-gt-tt .translate-form .activity-form input.activity-submit:active{border-color:#3079ed;background-color:#357ae8;background-image:-webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#357ae8));background-image:-webkit-linear-gradient(top,#4d90fe,#357ae8);background-image:-moz-linear-gradient(top,#4d90fe,#357ae8);background-image:-ms-linear-gradient(top,#4d90fe,#357ae8);background-image:-o-linear-gradient(top,#4d90fe,#357ae8);background-image:linear-gradient(top,#4d90fe,#357ae8)}#goog-gt-tt .translate-form .activity-form input.activity-submit:hover{box-shadow:inset 0 0 0 1px #fff,0px 1px 1px rgba(0,0,0,0.1);-webkit-box-shadow:inset 0 0 0 1px #fff,0px 1px 1px rgba(0,0,0,0.1);-moz-box-shadow:inset 0 0 0 1px #fff,0px 1px 1px rgba(0,0,0,0.1)}#goog-gt-tt .translate-form .activity-form input:focus,#goog-gt-tt .translate-form .activity-form input.focus,#goog-gt-tt .translate-form .activity-form input:active,#goog-gt-tt .translate-form .activity-form input:hover,#goog-gt-tt .translate-form .activity-form input.activity-submit:focus,#goog-gt-tt .translate-form .activity-form input.activity-submit.focus,#goog-gt-tt .translate-form .activity-form input.activity-submit:active,#goog-gt-tt .translate-form .activity-form input.activity-submit:hover{border-color:#3079ed}#goog-gt-tt .gray{color:#999;font-family:arial,sans-serif}#goog-gt-tt .alt-helper-text{color:#999;font-size:11px;font-family:arial,sans-serif;margin:15px 0px 5px 0px}#goog-gt-tt .alt-error-text{color:#800;display:none;font-size:9pt}.goog-text-highlight{background-color:#c9d7f1;-webkit-box-shadow:2px 2px 4px #9999aa;-moz-box-shadow:2px 2px 4px #9999aa;box-shadow:2px 2px 4px #9999aa;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;position:relative}#goog-gt-tt .alt-menu.goog-menu{background:#ffffff;border:1px solid #dddddd;-webkit-box-shadow:0px 3px 3px #888;-moz-box-shadow:0px 2px 20px #888;box-shadow:0px 2px 4px #99a;min-width:0;outline:none;padding:0;position:absolute;z-index:2000}#goog-gt-tt .alt-menu .goog-menuitem{cursor:pointer;padding:2px 5px 5px;margin-right:0px;border-style:none}#goog-gt-tt .alt-menu div.goog-menuitem:hover{background:#ddd}#goog-gt-tt .alt-menu .goog-menuitem h1{font-size:100%;font-weight:bold;margin:4px 0px}#goog-gt-tt .alt-menu .goog-menuitem strong{color:#345aad}#goog-gt-tt .goog-submenu-arrow{text-align:right;position:absolute;right:0;left:auto}#goog-gt-tt .goog-menuitem-rtl .goog-submenu-arrow{text-align:left;position:absolute;left:0;right:auto}#goog-gt-tt .gt-hl-text,#goog-gt-tt .trans-target-highlight{background-color:#f1ea00;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;-moz-box-shadow:rgba(0,0,0,.5) 3px 3px 4px;-webkit-box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;color:#f1ea00;cursor:pointer;margin:-2px -2px -2px -3px;padding:2px 2px 2px 3px;position:relative}#goog-gt-tt .trans-target-highlight{color:#222}#goog-gt-tt .gt-hl-layer{color:white;position:absolute!important}#goog-gt-tt .trans-target,#goog-gt-tt .trans-target .trans-target-highlight{background-color:#c9d7f1;border-radius:4px 4px 0px 0px;-webkit-border-radius:4px 4px 0px 0px;-moz-border-radius:4px 4px 0px 0px;-moz-box-shadow:rgba(0,0,0,.5) 3px 3px 4px;-webkit-box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-shadow:rgba(0,0,0,.5) 3px 3px 4px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;cursor:pointer;margin:-2px -2px -2px -3px;padding:2px 2px 3px 3px;position:relative}#goog-gt-tt span:focus{outline:none}#goog-gt-tt .trans-edit{background-color:transparent;border:1px solid #4d90fe;border-radius:0em;-webkit-border-radius:0em;-moz-border-radius:0em;margin:-2px;padding:1px}#goog-gt-tt .gt-trans-highlight-l{border-left:2px solid red;margin-left:-2px}#goog-gt-tt .gt-trans-highlight-r{border-right:2px solid red;margin-right:-2px}#goog-gt-tt #alt-input{padding:2px}#goog-gt-tt #alt-input-text{font-size:11px;padding:2px 2px 3px;margin:0;background-color:#fff;color:#333;border:1px solid #d9d9d9;border-top:1px solid #c0c0c0;display:inline-block;vertical-align:top;height:21px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-webkit-border-radius:1px}#goog-gt-tt #alt-input-text:hover{border:1px solid #b9b9b9;border-top:1px solid #a0a0a0;-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1);box-shadow:inset 0px 1px 2px rgba(0,0,0,0.1)}#goog-gt-tt #alt-input-text:focus{-webkit-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);box-shadow:inset 0px 1px 2px rgba(0,0,0,0.3);outline:none;border:1px solid #4d90fe}#goog-gt-tt #alt-input-submit{font-size:11px;padding:2px 6px 3px;margin:0 0 0 2px;height:21px}</style>
<style class="darkreader darkreader--sync" media="screen"></style>

      
    </head>
    <body lang="zh" dir="ltr" style="" class="mx-wc-selected-elem mx-wc-1570130044">

<div id="header">

<form id="searchform" method="get" action="/Lucifen%20Library">
<div>



<input id="searchinput" type="text" name="value" value="" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" class="disabled">
<input id="titlesearch" name="titlesearch" type="submit" value="标题" alt="Search Titles" disabled="">
<input id="fullsearch" name="fullsearch" type="submit" value="正文" alt="Search Full Text" disabled="">
</div>
</form>


<div id="logo"><a href="http://wiki.wareya.moe/Main" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer"><img src="assets/1570130044-853149504ac559e634ad78c2b5555c12.png" alt="MoinMoin Logo"></a></div>
<div id="username"><a href="http://wiki.wareya.moe/Lucifen%20Library?action=login" id="login" rel="noopener noreferrer" target="_blank" referrerpolicy="no-referrer">登录</a></div>
<h1 id="locationline">

<span id="pagelocation"><a href="http://wiki.wareya.moe/Lucifen%20Library" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Lucifen Library</a></span>
</h1>

<ul id="navibar">
<li class="wikilink"><a href="http://wiki.wareya.moe/Main" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Main</a></li><li class="wikilink"><a href="http://wiki.wareya.moe/RecentChanges" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">RecentChanges</a></li><li class="wikilink"><a href="http://wiki.wareya.moe/FindPage" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">FindPage</a></li><li class="wikilink"><a href="http://wiki.wareya.moe/HelpContents" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">HelpContents</a></li><li class="current"><a href="http://wiki.wareya.moe/Lucifen%20Library" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Lucifen Library</a></li>
</ul>

<div id="pageline"></div>

<ul class="editbar"><li><span class="disabled">只读网页</span></li><li><a class="nbinfo" href="http://wiki.wareya.moe/Lucifen%20Library?action=info" rel="noopener noreferrer" target="_blank" referrerpolicy="no-referrer">信息</a></li><li><a class="nbattachments" href="http://wiki.wareya.moe/Lucifen%20Library?action=AttachFile" rel="noopener noreferrer" target="_blank" referrerpolicy="no-referrer">附件</a></li><li>
<form class="actionsmenu" method="GET" action="/Lucifen%20Library">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">更多操作：</option><option value="raw">源码</option>
<option value="print">打印视图</option>
<option value="RenderAsDocbook">输出Docbook格式</option>
<option value="refresh">删除缓存</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">拼写检查</option>
<option value="LikePages">相似网页</option>
<option value="LocalSiteMap">本站地图</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">改名</option>
<option value="DeletePage" disabled="" class="disabled">删除</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">订阅</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">删除垃圾广告</option>
<option value="show" disabled="" class="disabled">恢复成此版本</option>
<option value="PackagePages">网页打包</option>
<option value="SyncPages">同步网页</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="Load">加载</option>
<option value="Save">保存</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>

</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line874">.sob files, 32-bit word bytecode packed with a lookup table in the header and a string table at the end. I have NO IDEA what the VN engine actually does to execute its logic, only how to get the text out of the scripts, and I'm not 100% certain it's correct, it just seems to work properly. <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span></p><p class="line874">Oretsuba Prelude and Oretsuba seem to trigger dialogue text with different commands (0x000001C8 vs 0x000001CF). I'm not certain that this is correct, but it seems to work. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p><p class="line874">Useful regexes: <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-1-1"></span></p><div class="highlight text"><div class="codearea" dir="ltr" lang="en">


<a href="#" onclick="return togglenumber('CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9', 1, 1);" class="codenumbers">切换行号显示</a>
<pre dir="ltr" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9" lang="en"><span class="line"><span class="LineAnchor" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9_1"></span><span class="anchor" id="line-1-2"></span>^#[^&amp;]*&amp;</span>
<span class="line"><span class="LineAnchor" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9_2"></span><span class="anchor" id="line-2-1"></span>&lt;remove&gt;</span>
<span class="line"><span class="LineAnchor" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9_3"></span><span class="anchor" id="line-3-1"></span></span>
<span class="line"><span class="LineAnchor" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9_4"></span><span class="anchor" id="line-4-1"></span>\$$</span>
<span class="line"><span class="LineAnchor" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9_5"></span><span class="anchor" id="line-5-1"></span>&lt;remove&gt;</span>
<span class="line"><span class="LineAnchor" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9_6"></span><span class="anchor" id="line-6-1"></span></span>
<span class="line"><span class="LineAnchor" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9_7"></span><span class="anchor" id="line-7-1"></span>&lt;[-0-9]*&gt;(\\)?</span>
<span class="line"><span class="LineAnchor" id="CA-d82f7d4c4e74a02c7b044f61efae2e1333c63dd9_8"></span><span class="anchor" id="line-8-1"></span>&lt;remove&gt;</span>
</pre></div></div><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><p class="line874">Dumper: <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span></p><p class="line867"><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-1-3"></span></p><div class="highlight c++"><div class="codearea" dir="ltr" lang="en">
<a href="#" onclick="return togglenumber('CA-202653ed156771a8253870a92324fd624ebfb4c9', 1, 1);" class="codenumbers">切换行号显示</a>
<pre dir="ltr" id="CA-202653ed156771a8253870a92324fd624ebfb4c9" lang="en"><span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_1"></span><span class="anchor" id="line-1-4"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;stdio.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_2"></span><span class="anchor" id="line-2-2"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;stdlib.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_3"></span><span class="anchor" id="line-3-2"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;stdint.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_4"></span><span class="anchor" id="line-4-2"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;string.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_5"></span><span class="anchor" id="line-5-2"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_6"></span><span class="anchor" id="line-6-2"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;set&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_7"></span><span class="anchor" id="line-7-2"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;map&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_8"></span><span class="anchor" id="line-8-2"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;vector&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_9"></span><span class="anchor" id="line-9-1"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_10"></span><span class="anchor" id="line-10-1"></span><span class="ID">std</span>::<span class="ID">vector</span>&lt;<span class="ID">std</span>::<span class="ID">map</span>&lt;<span class="ResWord">uint32_t</span>, <span class="ResWord">uint32_t</span>&gt;&gt; <span class="ID">maps</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_11"></span><span class="anchor" id="line-11-1"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_12"></span><span class="anchor" id="line-12-1"></span><span class="ID">std</span>::<span class="ID">map</span>&lt;<span class="ResWord">uint32_t</span>, <span class="ID">std</span>::<span class="ID">string</span>&gt; <span class="ID">examples</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_13"></span><span class="anchor" id="line-13-1"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_14"></span><span class="anchor" id="line-14-1"></span><span class="Comment">//deduplicate identical strings within each scene even if they have different addresses</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_15"></span><span class="anchor" id="line-15-1"></span><span class="Comment"></span><span class="ResWord">bool</span> <span class="ID">deduplciate</span> = <span class="ResWord">true</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_16"></span><span class="anchor" id="line-16-1"></span><span class="ID">std</span>::<span class="ID">set</span>&lt;<span class="ResWord">uint32_t</span>&gt; <span class="ID">seen</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_17"></span><span class="anchor" id="line-17-1"></span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_18"></span><span class="anchor" id="line-18-1"></span><span class="ResWord">int</span> <span class="ID">main</span>(<span class="ResWord">int</span> <span class="ID">argc</span>, <span class="ResWord">char</span> ** <span class="ID">argv</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_19"></span><span class="anchor" id="line-19-1"></span>{</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_20"></span><span class="anchor" id="line-20-1"></span>    <span class="ResWord">int</span> <span class="ID">strings</span> = <span class="Number">0</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_21"></span><span class="anchor" id="line-21-1"></span>    <span class="ResWord">int</span> <span class="ID">totalspace</span> = <span class="Number">0</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_22"></span><span class="anchor" id="line-22-1"></span>    <span class="ResWord">for</span>(<span class="ResWord">int</span> <span class="ID">i</span> = <span class="Number">0</span>; <span class="ID">i</span> &lt; <span class="ID">argc</span>; <span class="ID">i</span>++)</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_23"></span><span class="anchor" id="line-23-1"></span>    {</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_24"></span><span class="anchor" id="line-24-1"></span>        <span class="ID">maps</span>.<span class="ID">clear</span>();</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_25"></span><span class="anchor" id="line-25-1"></span>        <span class="ID">seen</span>.<span class="ID">clear</span>();</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_26"></span><span class="anchor" id="line-26-1"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_27"></span><span class="anchor" id="line-27-1"></span>        <span class="ResWord">auto</span> <span class="ID">f</span> = <span class="ID">fopen</span>(<span class="ID">argv</span>[<span class="ID">i</span>], <span class="String">"</span><span class="String">rb</span><span class="String">"</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_28"></span><span class="anchor" id="line-28-1"></span>        <span class="ResWord">if</span>(!<span class="ID">f</span>) <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_29"></span><span class="anchor" id="line-29-1"></span>        <span class="ResWord">char</span> <span class="ID">magic</span>[<span class="Number">4</span>];</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_30"></span><span class="anchor" id="line-30-1"></span>        <span class="ResWord">int</span> <span class="ID">n</span> = <span class="ID">fread</span>(<span class="ID">magic</span>, <span class="Number">1</span>, <span class="Number">4</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_31"></span><span class="anchor" id="line-31-1"></span>        <span class="ResWord">if</span>(<span class="ID">n</span> != <span class="Number">4</span> <span class="ID">or</span> <span class="ID">strncmp</span>(<span class="ID">magic</span>, <span class="String">"</span><span class="String">SOB0</span><span class="String">"</span>, <span class="Number">4</span>) != <span class="Number">0</span>) <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_32"></span><span class="anchor" id="line-32-1"></span>        <span class="ResWord">uint32_t</span> <span class="ID">table_size</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_33"></span><span class="anchor" id="line-33-1"></span>        <span class="ID">fread</span>(&amp;<span class="ID">table_size</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_34"></span><span class="anchor" id="line-34-1"></span>        <span class="ResWord">uint32_t</span> <span class="ID">table_end</span> = <span class="ID">table_size</span> + <span class="Number">0x8</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_35"></span><span class="anchor" id="line-35-1"></span>        <span class="ResWord">int</span> <span class="ID">header_count</span> = <span class="Number">0</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_36"></span><span class="anchor" id="line-36-1"></span>        <span class="Comment">//int j = 0;</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_37"></span><span class="anchor" id="line-37-1"></span><span class="Comment"></span>        <span class="ResWord">while</span>(<span class="ID">ftell</span>(<span class="ID">f</span>) &lt; <span class="ID">table_end</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_38"></span><span class="anchor" id="line-38-1"></span>        {</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_39"></span><span class="anchor" id="line-39-1"></span>            <span class="Comment">//printf("Header %d at %08X:\n", j++, ftell(f));</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_40"></span><span class="anchor" id="line-40-1"></span><span class="Comment"></span>            <span class="ResWord">uint32_t</span> <span class="ID">word_pairs</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_41"></span><span class="anchor" id="line-41-1"></span>            <span class="ID">fread</span>(&amp;<span class="ID">word_pairs</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_42"></span><span class="anchor" id="line-42-1"></span>            <span class="ID">std</span>::<span class="ID">map</span>&lt;<span class="ResWord">uint32_t</span>, <span class="ResWord">uint32_t</span>&gt; <span class="ID">newmap</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_43"></span><span class="anchor" id="line-43-1"></span>            <span class="ResWord">for</span>(<span class="ResWord">int</span> <span class="ID">i</span> = <span class="Number">0</span>; <span class="ID">i</span> &lt; <span class="ID">word_pairs</span>; <span class="ID">i</span>++)</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_44"></span><span class="anchor" id="line-44-1"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_45"></span><span class="anchor" id="line-45-1"></span>                <span class="ResWord">uint32_t</span> <span class="ID">key</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_46"></span><span class="anchor" id="line-46-1"></span>                <span class="ResWord">uint32_t</span> <span class="ID">value</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_47"></span><span class="anchor" id="line-47-1"></span>                <span class="ID">fread</span>(&amp;<span class="ID">key</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_48"></span><span class="anchor" id="line-48-1"></span>                <span class="ID">fread</span>(&amp;<span class="ID">value</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_49"></span><span class="anchor" id="line-49-1"></span>                <span class="ID">newmap</span>[<span class="ID">key</span>] = <span class="ID">value</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_50"></span><span class="anchor" id="line-50-1"></span>                <span class="Comment">//printf("%08X: %08X\n", key, value);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_51"></span><span class="anchor" id="line-51-1"></span><span class="Comment"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_52"></span><span class="anchor" id="line-52-1"></span>            <span class="ID">maps</span>.<span class="ID">push_back</span>(<span class="ID">newmap</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_53"></span><span class="anchor" id="line-53-1"></span>            <span class="ID">header_count</span> += <span class="Number">1</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_54"></span><span class="anchor" id="line-54-1"></span>        }</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_55"></span><span class="anchor" id="line-55-1"></span>        <span class="ResWord">if</span>(<span class="ID">maps</span>.<span class="ID">size</span>() &lt; <span class="Number">5</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_56"></span><span class="anchor" id="line-56-1"></span>        {</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_57"></span><span class="anchor" id="line-57-1"></span>            <span class="ID">puts</span>(<span class="String">"</span><span class="String">not enough maps</span><span class="String">"</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_58"></span><span class="anchor" id="line-58-1"></span>            <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_59"></span><span class="anchor" id="line-59-1"></span>        }</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_60"></span><span class="anchor" id="line-60-1"></span>        <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">table_end</span>, <span class="ID">SEEK_SET</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_61"></span><span class="anchor" id="line-61-1"></span>        <span class="ResWord">uint32_t</span> <span class="ID">strings_start</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_62"></span><span class="anchor" id="line-62-1"></span>        <span class="ResWord">uint32_t</span> <span class="ID">strings_end</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_63"></span><span class="anchor" id="line-63-1"></span>        <span class="ID">fread</span>(&amp;<span class="ID">strings_start</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_64"></span><span class="anchor" id="line-64-1"></span>        <span class="ID">fread</span>(&amp;<span class="ID">strings_end</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_65"></span><span class="anchor" id="line-65-1"></span>        <span class="ID">totalspace</span> += <span class="ID">strings_end</span>-<span class="ID">strings_start</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_66"></span><span class="anchor" id="line-66-1"></span>        <span class="ResWord">uint32_t</span> <span class="ID">header_end</span> = <span class="ID">ftell</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_67"></span><span class="anchor" id="line-67-1"></span>        <span class="ResWord">uint32_t</span> <span class="ID">code_end</span> = <span class="ID">strings_start</span>+<span class="ID">header_end</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_68"></span><span class="anchor" id="line-68-1"></span>        <span class="Comment">//printf("String range: %08X~%08X\n", strings_start, strings_end);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_69"></span><span class="anchor" id="line-69-1"></span><span class="Comment"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_70"></span><span class="anchor" id="line-70-1"></span>        <span class="Comment">// can't tell if text is content text until a command tries to use it? I think?</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_71"></span><span class="anchor" id="line-71-1"></span><span class="Comment"></span>        <span class="ID">std</span>::<span class="ID">string</span> <span class="ID">text_memory</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_72"></span><span class="anchor" id="line-72-1"></span>        <span class="ResWord">uint32_t</span> <span class="ID">text_memory_addr</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_73"></span><span class="anchor" id="line-73-1"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_74"></span><span class="anchor" id="line-74-1"></span>        <span class="ResWord">bool</span> <span class="ID">justdidtext</span> = <span class="ResWord">false</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_75"></span><span class="anchor" id="line-75-1"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_76"></span><span class="anchor" id="line-76-1"></span>        <span class="Comment">// no idea if commands have proper inline arguments in this bytecode lol</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_77"></span><span class="anchor" id="line-77-1"></span><span class="Comment"></span>        <span class="ResWord">while</span>(<span class="ID">ftell</span>(<span class="ID">f</span>) &lt; <span class="ID">code_end</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_78"></span><span class="anchor" id="line-78-1"></span>        {</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_79"></span><span class="anchor" id="line-79-1"></span>            <span class="ResWord">uint32_t</span> <span class="ID">address</span> = <span class="ID">ftell</span>(<span class="ID">f</span>)-<span class="ID">header_end</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_80"></span><span class="anchor" id="line-80-1"></span>            <span class="ResWord">uint32_t</span> <span class="ID">command</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_81"></span><span class="anchor" id="line-81-1"></span>            <span class="ID">fread</span>(&amp;<span class="ID">command</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_82"></span><span class="anchor" id="line-82-1"></span>            </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_83"></span><span class="anchor" id="line-83-1"></span>            <span class="ResWord">if</span>((<span class="ID">command</span> &amp; <span class="Number">0xFFF00000</span>) == <span class="Number">0x01800000</span> <span class="ID">and</span> <span class="ID">maps</span>[<span class="Number">4</span>].<span class="ID">count</span>(<span class="ID">address</span>) <span class="ID">and</span> <span class="ID">maps</span>[<span class="Number">4</span>][<span class="ID">address</span>] &gt;= <span class="ID">strings_start</span> <span class="ID">and</span> <span class="ID">maps</span>[<span class="Number">4</span>][<span class="ID">address</span>] &lt; <span class="ID">strings_end</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_84"></span><span class="anchor" id="line-84-1"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_85"></span><span class="anchor" id="line-85-1"></span>                <span class="Comment">//printf("Found command that uses string: ");</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_86"></span><span class="anchor" id="line-86-1"></span><span class="Comment"></span>                <span class="Comment">//printf("%08X: %08X (%08X) / ", address, command, maps[4][address], argv[i]);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_87"></span><span class="anchor" id="line-87-1"></span><span class="Comment"></span>                <span class="Comment">//printf("|%08X|:(|%08X|) [%s]\n", address+header_end, maps[4][address]+header_end, argv[i]);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_88"></span><span class="anchor" id="line-88-1"></span><span class="Comment"></span>                <span class="ID">strings</span>++;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_89"></span><span class="anchor" id="line-89-1"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">maps</span>[<span class="Number">4</span>][<span class="ID">address</span>]+<span class="ID">header_end</span>, <span class="ID">SEEK_SET</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_90"></span><span class="anchor" id="line-90-1"></span>                <span class="ResWord">int</span> <span class="ID">c</span> = <span class="ID">fgetc</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_91"></span><span class="anchor" id="line-91-1"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_92"></span><span class="anchor" id="line-92-1"></span>                <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0</span>) <span class="Comment">// 00 XX XX &lt;string</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_93"></span><span class="anchor" id="line-93-1"></span><span class="Comment"></span>                    <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="Number">2</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_94"></span><span class="anchor" id="line-94-1"></span>                <span class="ResWord">else</span> <span class="Comment">// &lt;string&gt;</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_95"></span><span class="anchor" id="line-95-1"></span><span class="Comment"></span>                    <span class="ID">fseek</span>(<span class="ID">f</span>, -<span class="Number">1</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_96"></span><span class="anchor" id="line-96-1"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_97"></span><span class="anchor" id="line-97-1"></span>                <span class="ResWord">auto</span> <span class="ID">start</span> = <span class="ID">ftell</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_98"></span><span class="anchor" id="line-98-1"></span>                <span class="ResWord">while</span>((<span class="ID">c</span> = <span class="ID">fgetc</span>(<span class="ID">f</span>)) != <span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_99"></span><span class="anchor" id="line-99-1"></span>                <span class="ResWord">auto</span> <span class="ID">end</span> = <span class="ID">ftell</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_100"></span><span class="anchor" id="line-100-1"></span>                <span class="ResWord">char</span> * <span class="ID">text</span> = (<span class="ResWord">char</span> *)<span class="ID">malloc</span>(<span class="ID">end</span>-<span class="ID">start</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_101"></span><span class="anchor" id="line-101-1"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">start</span>, <span class="ID">SEEK_SET</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_102"></span><span class="anchor" id="line-102-1"></span>                <span class="ID">fread</span>(<span class="ID">text</span>, <span class="Number">1</span>, <span class="ID">end</span>-<span class="ID">start</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_103"></span><span class="anchor" id="line-103-1"></span>                <span class="ID">std</span>::<span class="ID">string</span> <span class="ID">str</span> = <span class="ID">std</span>::<span class="ID">string</span>(<span class="ID">text</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_104"></span><span class="anchor" id="line-104-1"></span>                <span class="ResWord">if</span>(!<span class="ID">examples</span>.<span class="ID">count</span>(<span class="ID">command</span>))</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_105"></span><span class="anchor" id="line-105-1"></span>                    <span class="ID">examples</span>[<span class="ID">command</span>] = <span class="ID">str</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_106"></span><span class="anchor" id="line-106-1"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_107"></span><span class="anchor" id="line-107-1"></span>                <span class="Comment">//if(str != "")</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_108"></span><span class="anchor" id="line-108-1"></span><span class="Comment"></span>                <span class="Comment">//    printf("%08X text %s\n", command, text);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_109"></span><span class="anchor" id="line-109-1"></span><span class="Comment"></span>                    <span class="Comment">//printf("%s\n", text);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_110"></span><span class="anchor" id="line-110-1"></span><span class="Comment"></span>                    <span class="Comment">//printf("%08X: %08X %s\n", address+header_end, command, text);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_111"></span><span class="anchor" id="line-111-1"></span><span class="Comment"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_112"></span><span class="anchor" id="line-112-1"></span>                <span class="ID">text_memory</span> = <span class="ID">str</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_113"></span><span class="anchor" id="line-113-1"></span>                <span class="ID">text_memory_addr</span> = <span class="ID">maps</span>[<span class="Number">4</span>][<span class="ID">address</span>];</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_114"></span><span class="anchor" id="line-114-1"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_115"></span><span class="anchor" id="line-115-1"></span>                <span class="ID">free</span>(<span class="ID">text</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_116"></span><span class="anchor" id="line-116-1"></span>                <span class="ID">justdidtext</span> = <span class="ResWord">true</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_117"></span><span class="anchor" id="line-117-1"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_118"></span><span class="anchor" id="line-118-1"></span>            <span class="ResWord">else</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_119"></span><span class="anchor" id="line-119-1"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_120"></span><span class="anchor" id="line-120-1"></span>                <span class="Comment">// I have NO CERTAINTY that this is correct</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_121"></span><span class="anchor" id="line-121-1"></span><span class="Comment"></span>                <span class="ResWord">if</span>((<span class="ID">command</span> == <span class="Number">0x000001C8</span> <span class="ID">or</span> <span class="ID">command</span> == <span class="Number">0x000001CF</span>) <span class="ID">and</span> <span class="ID">text_memory</span> != <span class="String">"</span><span class="String">"</span> <span class="ID">and</span> (!<span class="ID">deduplciate</span> <span class="ID">or</span> !<span class="ID">seen</span>.<span class="ID">count</span>(<span class="ID">text_memory_addr</span>)))</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_122"></span><span class="anchor" id="line-122-1"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_123"></span><span class="anchor" id="line-123-1"></span>                    <span class="ID">puts</span>(<span class="ID">text_memory</span>.<span class="ID">data</span>());</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_124"></span><span class="anchor" id="line-124-1"></span>                    <span class="ResWord">if</span>(<span class="ID">deduplciate</span>) <span class="ID">seen</span>.<span class="ID">insert</span>(<span class="ID">text_memory_addr</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_125"></span><span class="anchor" id="line-125-1"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_126"></span><span class="anchor" id="line-126-1"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_127"></span><span class="anchor" id="line-127-1"></span>                <span class="ID">justdidtext</span> = <span class="ResWord">false</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_128"></span><span class="anchor" id="line-128-1"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_129"></span><span class="anchor" id="line-129-1"></span>            <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">address</span>+<span class="ID">header_end</span>+<span class="Number">4</span>, <span class="ID">SEEK_SET</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_130"></span><span class="anchor" id="line-130-1"></span>        }</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_131"></span><span class="anchor" id="line-131-1"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_132"></span><span class="anchor" id="line-132-1"></span>        <span class="ID">fclose</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_133"></span><span class="anchor" id="line-133-1"></span>    }</span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_134"></span><span class="anchor" id="line-134-1"></span>    <span class="Comment">//printf("Total space for strings: %d\n", totalspace);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_135"></span><span class="anchor" id="line-135-1"></span><span class="Comment"></span>    <span class="Comment">//printf("Total strings: %d\n", strings);</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_136"></span><span class="anchor" id="line-136-1"></span><span class="Comment"></span>    <span class="Comment">//for(auto &amp;[k, v] : examples)</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_137"></span><span class="anchor" id="line-137-1"></span><span class="Comment"></span>    <span class="Comment">//{</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_138"></span><span class="anchor" id="line-138-1"></span><span class="Comment"></span>    <span class="Comment">//    printf("%08X: %s\n", k, v.data());</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_139"></span><span class="anchor" id="line-139-1"></span><span class="Comment"></span>    <span class="Comment">//}</span></span>
<span class="line"><span class="LineAnchor" id="CA-202653ed156771a8253870a92324fd624ebfb4c9_140"></span><span class="anchor" id="line-140-1"></span><span class="Comment"></span>}</span>
</pre></div></div><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><p class="line874">Oretsuba Afterstory is only vaguely similar. It uses .tob files, some kind of braindamaged bytecode with inconsistent internal length handling, and badly terminated strings. <span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span></p><p class="line867"><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span><span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span><span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span><span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span><span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span><span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span><span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><span class="anchor" id="line-384"></span><span class="anchor" id="line-385"></span><span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span><span class="anchor" id="line-388"></span><span class="anchor" id="line-1-5"></span></p><div class="highlight c++"><div class="codearea" dir="ltr" lang="en">
<a href="#" onclick="return togglenumber('CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4', 1, 1);" class="codenumbers">切换行号显示</a>
<pre dir="ltr" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4" lang="en"><span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_1"></span><span class="anchor" id="line-1-6"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;stdio.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_2"></span><span class="anchor" id="line-2-3"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;stdlib.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_3"></span><span class="anchor" id="line-3-3"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;stdint.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_4"></span><span class="anchor" id="line-4-3"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;string.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_5"></span><span class="anchor" id="line-5-3"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_6"></span><span class="anchor" id="line-6-3"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;set&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_7"></span><span class="anchor" id="line-7-3"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include</span> <span class="Comment">&lt;map&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_8"></span><span class="anchor" id="line-8-3"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_9"></span><span class="anchor" id="line-9-2"></span><span class="ID">std</span>::<span class="ID">map</span>&lt;<span class="ResWord">uint32_t</span>, <span class="ID">std</span>::<span class="ID">string</span>&gt; <span class="ID">map</span>; <span class="Comment">// resume table?</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_10"></span><span class="anchor" id="line-10-2"></span><span class="Comment"></span><span class="ID">std</span>::<span class="ID">set</span>&lt;<span class="ResWord">uint32_t</span>&gt; <span class="ID">set</span>; <span class="Comment">// resume table?</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_11"></span><span class="anchor" id="line-11-2"></span><span class="Comment"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_12"></span><span class="anchor" id="line-12-2"></span><span class="ResWord">bool</span> <span class="ID">is_upper_jis_surrogate</span>(<span class="ResWord">int</span> <span class="ID">c</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_13"></span><span class="anchor" id="line-13-2"></span>{</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_14"></span><span class="anchor" id="line-14-2"></span>    <span class="ResWord">return</span> (<span class="ID">c</span> &gt;= <span class="Number">0x80</span> <span class="ID">and</span> <span class="ID">c</span> &lt;= <span class="Number">0xA1</span>) <span class="ID">or</span> (<span class="ID">c</span> &gt;= <span class="Number">0xE0</span> <span class="ID">and</span> <span class="ID">c</span> &lt;= <span class="Number">0xFF</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_15"></span><span class="anchor" id="line-15-2"></span>}</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_16"></span><span class="anchor" id="line-16-2"></span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_17"></span><span class="anchor" id="line-17-2"></span><span class="ResWord">int</span> <span class="ID">main</span>(<span class="ResWord">int</span> <span class="ID">argc</span>, <span class="ResWord">char</span> ** <span class="ID">argv</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_18"></span><span class="anchor" id="line-18-2"></span>{</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_19"></span><span class="anchor" id="line-19-2"></span>    <span class="Comment">//int strings = 0;</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_20"></span><span class="anchor" id="line-20-2"></span><span class="Comment"></span>    <span class="ResWord">for</span>(<span class="ResWord">int</span> <span class="ID">i</span> = <span class="Number">0</span>; <span class="ID">i</span> &lt; <span class="ID">argc</span>; <span class="ID">i</span>++)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_21"></span><span class="anchor" id="line-21-2"></span>    {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_22"></span><span class="anchor" id="line-22-2"></span>        <span class="ID">map</span>.<span class="ID">clear</span>();</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_23"></span><span class="anchor" id="line-23-2"></span>        <span class="ID">set</span>.<span class="ID">clear</span>();</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_24"></span><span class="anchor" id="line-24-2"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_25"></span><span class="anchor" id="line-25-2"></span>        <span class="ResWord">auto</span> <span class="ID">f</span> = <span class="ID">fopen</span>(<span class="ID">argv</span>[<span class="ID">i</span>], <span class="String">"</span><span class="String">rb</span><span class="String">"</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_26"></span><span class="anchor" id="line-26-2"></span>        <span class="ResWord">if</span>(!<span class="ID">f</span>) <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_27"></span><span class="anchor" id="line-27-2"></span>        <span class="ResWord">char</span> <span class="ID">magic</span>[<span class="Number">4</span>];</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_28"></span><span class="anchor" id="line-28-2"></span>        <span class="ResWord">int</span> <span class="ID">n</span> = <span class="ID">fread</span>(<span class="ID">magic</span>, <span class="Number">1</span>, <span class="Number">4</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_29"></span><span class="anchor" id="line-29-2"></span>        <span class="ResWord">if</span>(<span class="ID">n</span> != <span class="Number">4</span> <span class="ID">or</span> <span class="ID">strncmp</span>(<span class="ID">magic</span>, <span class="String">"</span><span class="String">TOB0</span><span class="String">"</span>, <span class="Number">4</span>) != <span class="Number">0</span>) <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_30"></span><span class="anchor" id="line-30-2"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_31"></span><span class="anchor" id="line-31-2"></span>        <span class="Comment">//puts(argv[i]);</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_32"></span><span class="anchor" id="line-32-2"></span><span class="Comment"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_33"></span><span class="anchor" id="line-33-2"></span>        <span class="ResWord">uint32_t</span> <span class="ID">header_size</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_34"></span><span class="anchor" id="line-34-2"></span>        <span class="ResWord">uint32_t</span> <span class="ID">header_elements</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_35"></span><span class="anchor" id="line-35-2"></span>        <span class="ID">fread</span>(&amp;<span class="ID">header_size</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_36"></span><span class="anchor" id="line-36-2"></span>        <span class="ID">fread</span>(&amp;<span class="ID">header_elements</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_37"></span><span class="anchor" id="line-37-2"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_38"></span><span class="anchor" id="line-38-2"></span>        <span class="ResWord">for</span>(<span class="ResWord">int</span> <span class="ID">j</span> = <span class="Number">0</span>; <span class="ID">j</span> &lt; <span class="ID">header_elements</span>; <span class="ID">j</span>++)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_39"></span><span class="anchor" id="line-39-2"></span>        {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_40"></span><span class="anchor" id="line-40-2"></span>            <span class="ResWord">uint8_t</span> <span class="ID">size</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_41"></span><span class="anchor" id="line-41-2"></span>            <span class="ID">fread</span>(&amp;<span class="ID">size</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_42"></span><span class="anchor" id="line-42-2"></span>            </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_43"></span><span class="anchor" id="line-43-2"></span>            <span class="ResWord">char</span> * <span class="ID">text</span> = (<span class="ResWord">char</span> *)<span class="ID">malloc</span>(<span class="ID">size</span>-<span class="Number">4</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_44"></span><span class="anchor" id="line-44-2"></span>            <span class="ID">fread</span>(<span class="ID">text</span>, <span class="Number">1</span>, <span class="ID">size</span>-<span class="Number">4</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_45"></span><span class="anchor" id="line-45-2"></span>            </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_46"></span><span class="anchor" id="line-46-2"></span>            <span class="ResWord">uint32_t</span> <span class="ID">value</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_47"></span><span class="anchor" id="line-47-2"></span>            <span class="ID">fread</span>(&amp;<span class="ID">value</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_48"></span><span class="anchor" id="line-48-2"></span>            <span class="ID">map</span>[<span class="ID">value</span>] = <span class="ID">text</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_49"></span><span class="anchor" id="line-49-2"></span>            </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_50"></span><span class="anchor" id="line-50-2"></span>            <span class="ID">free</span>(<span class="ID">text</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_51"></span><span class="anchor" id="line-51-2"></span>        }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_52"></span><span class="anchor" id="line-52-2"></span>        <span class="ResWord">if</span>(<span class="ID">ftell</span>(<span class="ID">f</span>) != <span class="ID">header_size</span>+<span class="Number">4</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_53"></span><span class="anchor" id="line-53-2"></span>        {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_54"></span><span class="anchor" id="line-54-2"></span>            <span class="ID">puts</span>(<span class="String">"</span><span class="String">desynchronized</span><span class="String">"</span>), <span class="ID">puts</span>(<span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_55"></span><span class="anchor" id="line-55-2"></span>            <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_56"></span><span class="anchor" id="line-56-2"></span>        }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_57"></span><span class="anchor" id="line-57-2"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_58"></span><span class="anchor" id="line-58-2"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_59"></span><span class="anchor" id="line-59-2"></span>        <span class="ResWord">uint32_t</span> <span class="ID">table_size</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_60"></span><span class="anchor" id="line-60-2"></span>        <span class="ResWord">uint32_t</span> <span class="ID">table_elements</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_61"></span><span class="anchor" id="line-61-2"></span>        <span class="ID">fread</span>(&amp;<span class="ID">table_size</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_62"></span><span class="anchor" id="line-62-2"></span>        <span class="ID">fread</span>(&amp;<span class="ID">table_elements</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_63"></span><span class="anchor" id="line-63-2"></span>        <span class="ResWord">uint32_t</span> <span class="ID">table_end</span> = <span class="ID">table_size</span> + <span class="ID">header_size</span> + <span class="Number">4</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_64"></span><span class="anchor" id="line-64-2"></span>        <span class="ResWord">while</span>(<span class="ID">ftell</span>(<span class="ID">f</span>) &lt; <span class="ID">table_end</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_65"></span><span class="anchor" id="line-65-2"></span>        {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_66"></span><span class="anchor" id="line-66-2"></span>            <span class="Comment">//printf("Header at %08X\n", ftell(f));</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_67"></span><span class="anchor" id="line-67-2"></span><span class="Comment"></span>            <span class="ResWord">uint32_t</span> <span class="ID">word</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_68"></span><span class="anchor" id="line-68-2"></span>            <span class="ID">fread</span>(&amp;<span class="ID">word</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_69"></span><span class="anchor" id="line-69-2"></span>            <span class="ID">set</span>.<span class="ID">insert</span>(<span class="ID">word</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_70"></span><span class="anchor" id="line-70-2"></span>        }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_71"></span><span class="anchor" id="line-71-2"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_72"></span><span class="anchor" id="line-72-2"></span>        <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">table_end</span>, <span class="ID">SEEK_SET</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_73"></span><span class="anchor" id="line-73-2"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_74"></span><span class="anchor" id="line-74-2"></span>        <span class="ID">std</span>::<span class="ID">string</span> <span class="ID">text</span> = <span class="String">"</span><span class="String">"</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_75"></span><span class="anchor" id="line-75-2"></span>        <span class="ResWord">uint32_t</span> <span class="ID">start</span> = <span class="ID">ftell</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_76"></span><span class="anchor" id="line-76-2"></span>        <span class="ResWord">while</span>(<span class="Number">1</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_77"></span><span class="anchor" id="line-77-2"></span>        {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_78"></span><span class="anchor" id="line-78-2"></span>            <span class="ResWord">uint32_t</span> <span class="ID">location</span> = <span class="ID">ftell</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_79"></span><span class="anchor" id="line-79-2"></span>            </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_80"></span><span class="anchor" id="line-80-2"></span>            <span class="Comment">// I have absolutely no idea if these are correct.</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_81"></span><span class="anchor" id="line-81-2"></span><span class="Comment"></span>            <span class="ResWord">auto</span> <span class="ID">c</span> = <span class="ID">fgetc</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_82"></span><span class="anchor" id="line-82-2"></span>            <span class="ResWord">bool</span> <span class="ID">closefile</span> = <span class="ID">feof</span>(<span class="ID">f</span>) <span class="ID">or</span> <span class="ID">ferror</span>(<span class="ID">f</span>) <span class="ID">or</span> <span class="ID">c</span> &lt; <span class="Number">0</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_83"></span><span class="anchor" id="line-83-2"></span>            <span class="ResWord">if</span>(<span class="ID">closefile</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_84"></span><span class="anchor" id="line-84-2"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_85"></span><span class="anchor" id="line-85-2"></span>                <span class="ResWord">if</span>(<span class="ID">text</span> != <span class="String">"</span><span class="String">"</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_86"></span><span class="anchor" id="line-86-2"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_87"></span><span class="anchor" id="line-87-2"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">%s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">text</span>.<span class="ID">data</span>());</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_88"></span><span class="anchor" id="line-88-2"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_89"></span><span class="anchor" id="line-89-2"></span>                <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_90"></span><span class="anchor" id="line-90-2"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_91"></span><span class="anchor" id="line-91-2"></span>            <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0x5B</span>) <span class="Comment">// STOP MAKING INHERENTLY ASCII INCOMPATIBLE FORMATS REEEEEEEEEEEEEEEEEEEEEEE</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_92"></span><span class="anchor" id="line-92-2"></span><span class="Comment"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_93"></span><span class="anchor" id="line-93-2"></span>                <span class="ResWord">if</span>(<span class="ID">text</span> != <span class="String">"</span><span class="String">"</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_94"></span><span class="anchor" id="line-94-2"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_95"></span><span class="anchor" id="line-95-2"></span>                    <span class="Comment">//printf("%08X \"%s\"\n", start, text.data());</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_96"></span><span class="anchor" id="line-96-2"></span><span class="Comment"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">%s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">text</span>.<span class="ID">data</span>());</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_97"></span><span class="anchor" id="line-97-2"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_98"></span><span class="anchor" id="line-98-2"></span>                <span class="ID">text</span> = <span class="String">"</span><span class="String">"</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_99"></span><span class="anchor" id="line-99-2"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_100"></span><span class="anchor" id="line-100-2"></span>                <span class="ID">start</span> = <span class="ID">ftell</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_101"></span><span class="anchor" id="line-101-2"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_102"></span><span class="anchor" id="line-102-2"></span>            <span class="ResWord">else</span> <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0x20</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_103"></span><span class="anchor" id="line-103-2"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_104"></span><span class="anchor" id="line-104-2"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="Number">4</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_105"></span><span class="anchor" id="line-105-2"></span>                <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_106"></span><span class="anchor" id="line-106-2"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_107"></span><span class="anchor" id="line-107-2"></span>            <span class="ResWord">else</span> <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0x01</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_108"></span><span class="anchor" id="line-108-2"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_109"></span><span class="anchor" id="line-109-2"></span>                <span class="ResWord">uint32_t</span> <span class="ID">length</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_110"></span><span class="anchor" id="line-110-2"></span>                <span class="ID">fread</span>(&amp;<span class="ID">length</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_111"></span><span class="anchor" id="line-111-2"></span>                <span class="ResWord">if</span>(<span class="ID">length</span> &lt; <span class="Number">4</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_112"></span><span class="anchor" id="line-112-2"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_113"></span><span class="anchor" id="line-113-2"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">mayday in op 01 at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_114"></span><span class="anchor" id="line-114-2"></span>                    <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_115"></span><span class="anchor" id="line-115-2"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_116"></span><span class="anchor" id="line-116-2"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">length</span>-<span class="Number">4</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_117"></span><span class="anchor" id="line-117-2"></span>                <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_118"></span><span class="anchor" id="line-118-2"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_119"></span><span class="anchor" id="line-119-2"></span>            <span class="ResWord">else</span> <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0x03</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_120"></span><span class="anchor" id="line-120-2"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_121"></span><span class="anchor" id="line-121-2"></span>                <span class="Comment">// I have no idea how this works. Don't blame me if it breaks.</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_122"></span><span class="anchor" id="line-122-2"></span><span class="Comment"></span>                <span class="ResWord">uint16_t</span> <span class="ID">unknown1</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_123"></span><span class="anchor" id="line-123-2"></span>                <span class="ID">fread</span>(&amp;<span class="ID">unknown1</span>, <span class="Number">2</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_124"></span><span class="anchor" id="line-124-2"></span>                <span class="ResWord">if</span>(<span class="ID">unknown1</span> &gt; <span class="Number">0xFF</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_125"></span><span class="anchor" id="line-125-2"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_126"></span><span class="anchor" id="line-126-2"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">mayday 1 in op 03 at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_127"></span><span class="anchor" id="line-127-2"></span>                    <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_128"></span><span class="anchor" id="line-128-2"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_129"></span><span class="anchor" id="line-129-2"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">unknown1</span>+<span class="Number">1</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_130"></span><span class="anchor" id="line-130-2"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_131"></span><span class="anchor" id="line-131-2"></span>                <span class="ResWord">uint16_t</span> <span class="ID">unknown2</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_132"></span><span class="anchor" id="line-132-2"></span>                <span class="ID">fread</span>(&amp;<span class="ID">unknown2</span>, <span class="Number">2</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_133"></span><span class="anchor" id="line-133-2"></span>                <span class="ResWord">if</span>(<span class="ID">unknown2</span> &lt; <span class="Number">2</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_134"></span><span class="anchor" id="line-134-2"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_135"></span><span class="anchor" id="line-135-2"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">mayday 2 in op 03 at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_136"></span><span class="anchor" id="line-136-2"></span>                    <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_137"></span><span class="anchor" id="line-137-2"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_138"></span><span class="anchor" id="line-138-2"></span>                <span class="ID">unknown2</span> -= <span class="Number">2</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_139"></span><span class="anchor" id="line-139-2"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">unknown2</span>-<span class="Number">2</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_140"></span><span class="anchor" id="line-140-2"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_141"></span><span class="anchor" id="line-141-1"></span>                <span class="ResWord">uint32_t</span> <span class="ID">unknown3</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_142"></span><span class="anchor" id="line-142-1"></span>                <span class="ID">fread</span>(&amp;<span class="ID">unknown3</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_143"></span><span class="anchor" id="line-143-1"></span>                <span class="ResWord">if</span>(<span class="ID">unknown3</span> &lt; <span class="Number">4</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_144"></span><span class="anchor" id="line-144-1"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_145"></span><span class="anchor" id="line-145-1"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">mayday 3 in op 03 at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_146"></span><span class="anchor" id="line-146-1"></span>                    <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_147"></span><span class="anchor" id="line-147-1"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_148"></span><span class="anchor" id="line-148-1"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">unknown3</span>-<span class="Number">4</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_149"></span><span class="anchor" id="line-149-1"></span>                <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_150"></span><span class="anchor" id="line-150-1"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_151"></span><span class="anchor" id="line-151-1"></span>            <span class="ResWord">else</span> <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0x02</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_152"></span><span class="anchor" id="line-152-1"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_153"></span><span class="anchor" id="line-153-1"></span>                <span class="Comment">// I have no idea how this works. Don't blame me if it breaks.</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_154"></span><span class="anchor" id="line-154-1"></span><span class="Comment"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="Number">8</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_155"></span><span class="anchor" id="line-155-1"></span>                </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_156"></span><span class="anchor" id="line-156-1"></span>                <span class="ResWord">uint32_t</span> <span class="ID">unknown1</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_157"></span><span class="anchor" id="line-157-1"></span>                <span class="ID">fread</span>(&amp;<span class="ID">unknown1</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_158"></span><span class="anchor" id="line-158-1"></span>                <span class="ResWord">if</span>(<span class="ID">unknown1</span> &lt; <span class="Number">4</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_159"></span><span class="anchor" id="line-159-1"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_160"></span><span class="anchor" id="line-160-1"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">mayday 2 in op 03 at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_161"></span><span class="anchor" id="line-161-1"></span>                    <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_162"></span><span class="anchor" id="line-162-1"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_163"></span><span class="anchor" id="line-163-1"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">unknown1</span>-<span class="Number">4</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_164"></span><span class="anchor" id="line-164-1"></span>                <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_165"></span><span class="anchor" id="line-165-1"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_166"></span><span class="anchor" id="line-166-1"></span>            <span class="ResWord">else</span> <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0x73</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_167"></span><span class="anchor" id="line-167-1"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_168"></span><span class="anchor" id="line-168-1"></span>                <span class="ResWord">uint32_t</span> <span class="ID">length</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_169"></span><span class="anchor" id="line-169-1"></span>                <span class="ID">fread</span>(&amp;<span class="ID">length</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_170"></span><span class="anchor" id="line-170-1"></span>                <span class="ResWord">if</span>(<span class="ID">length</span> &gt; <span class="Number">0x0000FFFF</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_171"></span><span class="anchor" id="line-171-1"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_172"></span><span class="anchor" id="line-172-1"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">mayday 1 in op 73 at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_173"></span><span class="anchor" id="line-173-1"></span>                    <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_174"></span><span class="anchor" id="line-174-1"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_175"></span><span class="anchor" id="line-175-1"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">length</span>+<span class="Number">1</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_176"></span><span class="anchor" id="line-176-1"></span>                <span class="ID">fread</span>(&amp;<span class="ID">length</span>, <span class="Number">4</span>, <span class="Number">1</span>, <span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_177"></span><span class="anchor" id="line-177-1"></span>                <span class="ResWord">if</span>(<span class="ID">length</span> &lt; <span class="Number">4</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_178"></span><span class="anchor" id="line-178-1"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_179"></span><span class="anchor" id="line-179-1"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">mayday 2 in op 73 at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_180"></span><span class="anchor" id="line-180-1"></span>                    <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_181"></span><span class="anchor" id="line-181-1"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_182"></span><span class="anchor" id="line-182-1"></span>                <span class="ID">fseek</span>(<span class="ID">f</span>, <span class="ID">length</span>-<span class="Number">4</span>, <span class="ID">SEEK_CUR</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_183"></span><span class="anchor" id="line-183-1"></span>                <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_184"></span><span class="anchor" id="line-184-1"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_185"></span><span class="anchor" id="line-185-1"></span>            <span class="ResWord">else</span> <span class="ResWord">if</span>(<span class="ID">is_upper_jis_surrogate</span>(<span class="ID">c</span>))</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_186"></span><span class="anchor" id="line-186-1"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_187"></span><span class="anchor" id="line-187-1"></span>                <span class="ResWord">bool</span> <span class="ID">intext</span> = <span class="ResWord">true</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_188"></span><span class="anchor" id="line-188-1"></span>                <span class="ResWord">while</span>(<span class="ID">intext</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_189"></span><span class="anchor" id="line-189-1"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_190"></span><span class="anchor" id="line-190-1"></span>                    <span class="ID">text</span> += <span class="ID">c</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_191"></span><span class="anchor" id="line-191-1"></span>                    <span class="ResWord">if</span>(<span class="ID">is_upper_jis_surrogate</span>(<span class="ID">c</span>))</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_192"></span><span class="anchor" id="line-192-1"></span>                        <span class="ID">text</span> += <span class="ID">fgetc</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_193"></span><span class="anchor" id="line-193-1"></span>                    <span class="ID">c</span> = <span class="ID">fgetc</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_194"></span><span class="anchor" id="line-194-1"></span>                    <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0x5B</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_195"></span><span class="anchor" id="line-195-1"></span>                        <span class="ID">intext</span> = <span class="ResWord">false</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_196"></span><span class="anchor" id="line-196-1"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_197"></span><span class="anchor" id="line-197-1"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_198"></span><span class="anchor" id="line-198-1"></span>            <span class="ResWord">else</span> <span class="ResWord">if</span>(<span class="ID">c</span> == <span class="Number">0</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_199"></span><span class="anchor" id="line-199-1"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_200"></span><span class="anchor" id="line-200-1"></span>                <span class="ResWord">if</span>(<span class="ID">fgetc</span>(<span class="ID">f</span>) &gt;= <span class="Number">0</span>)</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_201"></span><span class="anchor" id="line-201-1"></span>                {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_202"></span><span class="anchor" id="line-202-1"></span>                    <span class="ID">printf</span>(<span class="String">"</span><span class="String">unknown operation %02X at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">c</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_203"></span><span class="anchor" id="line-203-1"></span>                    <span class="ID">exit</span>(<span class="Number">0</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_204"></span><span class="anchor" id="line-204-1"></span>                }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_205"></span><span class="anchor" id="line-205-1"></span>                <span class="ResWord">else</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_206"></span><span class="anchor" id="line-206-1"></span>                    <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_207"></span><span class="anchor" id="line-207-1"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_208"></span><span class="anchor" id="line-208-1"></span>            <span class="ResWord">else</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_209"></span><span class="anchor" id="line-209-1"></span>            {</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_210"></span><span class="anchor" id="line-210-1"></span>                <span class="ID">printf</span>(<span class="String">"</span><span class="String">unknown operation %02X at %08X in %s</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">c</span>, <span class="ID">location</span>, <span class="ID">argv</span>[<span class="ID">i</span>]);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_211"></span><span class="anchor" id="line-211-1"></span>                <span class="Comment">//exit(0);</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_212"></span><span class="anchor" id="line-212-1"></span><span class="Comment"></span>                <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_213"></span><span class="anchor" id="line-213-1"></span>            }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_214"></span><span class="anchor" id="line-214-1"></span>        }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_215"></span><span class="anchor" id="line-215-1"></span>        </span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_216"></span><span class="anchor" id="line-216-1"></span>        <span class="ID">fclose</span>(<span class="ID">f</span>);</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_217"></span><span class="anchor" id="line-217-1"></span>    }</span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_218"></span><span class="anchor" id="line-218-1"></span>    <span class="Comment">//printf("Total strings: %d\n", strings);</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_219"></span><span class="anchor" id="line-219-1"></span><span class="Comment"></span>    <span class="Comment">//for(auto &amp;[k, v] : examples)</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_220"></span><span class="anchor" id="line-220-1"></span><span class="Comment"></span>    <span class="Comment">//{</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_221"></span><span class="anchor" id="line-221-1"></span><span class="Comment"></span>    <span class="Comment">//    printf("%08X: %s\n", k, v.data());</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_222"></span><span class="anchor" id="line-222-1"></span><span class="Comment"></span>    <span class="Comment">//}</span></span>
<span class="line"><span class="LineAnchor" id="CA-6cf42f86a93c55b4d6df679a9e817018cea2dec4_223"></span><span class="anchor" id="line-223-1"></span><span class="Comment"></span>}</span>
</pre></div></div><span class="anchor" id="line-389"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="zh" dir="ltr">Lucifen Library  (2017-10-01 11:21:51由<span title="weh"><a class="nonexistent" href="http://wiki.wareya.moe/weh" title="weh" target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">weh</a></span>编辑)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><span class="disabled">只读网页</span></li><li><a class="nbinfo" href="http://wiki.wareya.moe/Lucifen%20Library?action=info" rel="noopener noreferrer" target="_blank" referrerpolicy="no-referrer">信息</a></li><li><a class="nbattachments" href="http://wiki.wareya.moe/Lucifen%20Library?action=AttachFile" rel="noopener noreferrer" target="_blank" referrerpolicy="no-referrer">附件</a></li><li>
<form class="actionsmenu" method="GET" action="/Lucifen%20Library">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">更多操作：</option><option value="raw">源码</option>
<option value="print">打印视图</option>
<option value="RenderAsDocbook">输出Docbook格式</option>
<option value="refresh">删除缓存</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">拼写检查</option>
<option value="LikePages">相似网页</option>
<option value="LocalSiteMap">本站地图</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">改名</option>
<option value="DeletePage" disabled="" class="disabled">删除</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">订阅</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">删除垃圾广告</option>
<option value="show" disabled="" class="disabled">恢复成此版本</option>
<option value="PackagePages">网页打包</option>
<option value="SyncPages">同步网页</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="Load">加载</option>
<option value="Save">保存</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>

</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software." target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python." target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed." target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page." target="_blank" referrerpolicy="no-referrer" rel="noopener noreferrer">Valid HTML 4.01</a></li>
</ul>


</div>



<span id="copylAddress" style="display: inline-block; position: absolute; left: -9999em;"></span><a href="" download="" data-mx-warn="Empty URL"></a><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30" data-darkreader-inline-fill="" style="--darkreader-inline-fill:none;"></circle></svg></div></div><div id="gtx-trans" style="position: absolute; left: 90px; top: 7403.03px;"><div class="gtx-trans-icon"></div></div><div data-mx-warn="extension url was not captured by MaoXian" data-mx-original-src="chrome-extension://kjahokgdcbohofgdidndeiaigkehdjdc/pages/ui-selection.html?t=aHR0cDovL3dpa2kud2FyZXlhLm1vZQ=="></div><div data-mx-warn="extension url was not captured by MaoXian" data-mx-original-src="chrome-extension://kjahokgdcbohofgdidndeiaigkehdjdc/pages/ui-control.html?t=aHR0cDovL3dpa2kud2FyZXlhLm1vZQ=="></div>
</body>
  </html>